# 🏗️ 프로젝트 아키텍처

## 📂 디렉토리 구조

```
ailifestudio.github.io/
├── 📄 index.html                    # 메인 블로그 페이지 (Tailwind CSS)
├── 📊 data.json                     # 뉴스 데이터 (자동 생성/업데이트)
│
├── 📚 README.md                     # 프로젝트 메인 문서
├── 🚀 QUICKSTART.md                # 빠른 시작 가이드
├── 🏗️ ARCHITECTURE.md              # 이 파일
│
├── 🔧 update_blog.sh                # Linux/Mac 간편 실행 스크립트
├── 🔧 update_blog.bat               # Windows 간편 실행 스크립트
├── 📝 .gitignore                    # Git 무시 파일
│
├── 🤖 automation/                   # 자동화 시스템
│   ├── 🐍 news_crawler.py          # 메인 크롤링 스크립트
│   ├── ⚙️ config.json              # 영문 뉴스 설정
│   ├── ⚙️ config_korean.json      # 한글 뉴스 설정
│   ├── 📦 requirements.txt          # Python 의존성
│   ├── 📊 data.json                # 생성된 데이터 (임시)
│   └── 📚 README.md                # 자동화 상세 문서
│
└── ⚡ .github/workflows/           # GitHub Actions
    └── auto-update.yml             # 자동 업데이트 워크플로우
```

---

## 🔄 데이터 플로우

```
┌─────────────────────────────────────────────────────────────┐
│                    1. RSS 피드 수집                          │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │TechCrunch│  │ AI타임스  │  │ 블로터   │  │   기타   │   │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘   │
│       └──────────────┴──────────────┴─────────────┘         │
└───────────────────────────┬─────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                   2. 데이터 가공                             │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  news_crawler.py                                     │   │
│  │  - HTML 태그 제거                                    │   │
│  │  - 이미지 추출                                       │   │
│  │  - 시간 변환 ("3시간 전" 형식)                      │   │
│  │  - 중복 제거                                         │   │
│  └──────────────────────────────────────────────────────┘   │
└───────────────────────────┬─────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│              3. AI 요약 (선택사항)                           │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  OpenAI GPT-3.5-turbo                                │   │
│  │  - 각 기사를 2-3문장으로 요약                        │   │
│  │  - 명확하고 간결한 요약 생성                         │   │
│  └──────────────────────────────────────────────────────┘   │
└───────────────────────────┬─────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                  4. JSON 생성 & 저장                         │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  data.json                                           │   │
│  │  {                                                   │   │
│  │    "updatedAt": "2025-12-12 15:00",                 │   │
│  │    "articles": [ ... ]                              │   │
│  │  }                                                   │   │
│  └──────────────────────────────────────────────────────┘   │
└───────────────────────────┬─────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                  5. 웹사이트 렌더링                          │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  index.html                                          │   │
│  │  - data.json 로드 (fetch API)                       │   │
│  │  - Masonry 레이아웃으로 카드 생성                    │   │
│  │  - 반응형 디자인 적용                                │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

## ⚡ 자동화 워크플로우

### GitHub Actions 트리거

```
┌─────────────────────────────────────────────────────────────┐
│                        트리거                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │  스케줄      │  │  수동 실행   │  │  Push 이벤트 │      │
│  │  (3회/일)    │  │  (Actions)   │  │  (선택사항)  │      │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘      │
│         └──────────────────┴──────────────────┘              │
└────────────────────────────┬────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────┐
│                  GitHub Actions Runner                       │
│                                                              │
│  1. ✅ 저장소 체크아웃                                       │
│  2. 🐍 Python 3.11 설치                                     │
│  3. 📦 의존성 설치 (pip install)                            │
│  4. 🚀 news_crawler.py 실행                                 │
│     └─ OPENAI_API_KEY 환경변수 자동 주입                    │
│  5. 📊 data.json → 루트 디렉토리 복사                       │
│  6. 📤 Git 커밋 & 푸시                                      │
│     └─ 변경사항 없으면 스킵                                 │
│                                                              │
└────────────────────────────┬────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────┐
│                   GitHub Pages 배포                          │
│  - 자동으로 index.html 빌드                                 │
│  - 3-5분 내 배포 완료                                       │
│  - https://ailifestudio.github.io/ 업데이트                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔐 보안 고려사항

### 1. API 키 관리

```
❌ 나쁜 예:
automation/config.json에 직접 입력
└─ Git에 노출 위험

✅ 좋은 예:
- GitHub Secrets 사용 (Actions용)
- 환경 변수 사용 (로컬용)
- .gitignore로 보호
```

### 2. RSS 피드 검증

```python
# news_crawler.py에서 자동 처리
try:
    feed = feedparser.parse(url)
    # 안전한 HTML 파싱
    soup = BeautifulSoup(content, 'html.parser')
except Exception as e:
    # 에러 발생시 스킵
    print(f"오류: {e}")
```

---

## 🚀 배포 파이프라인

```
개발자 작업 (로컬)
    │
    ├─ 설정 변경 (config.json)
    ├─ 디자인 수정 (index.html)
    └─ 스크립트 개선 (news_crawler.py)
    │
    ▼
Git Commit & Push
    │
    ▼
GitHub Repository
    │
    ├─ GitHub Actions 실행
    │   └─ 자동 뉴스 업데이트
    │
    └─ GitHub Pages 배포
        └─ https://ailifestudio.github.io/
```

---

## 📊 데이터 스키마

### data.json 구조

```json
{
  "updatedAt": "2025-12-12 15:00",  // ISO 형식 업데이트 시간
  "articles": [
    {
      "title": "기사 제목",           // 최대 200자
      "source": "출처명",             // RSS 피드 이름
      "time": "3시간 전",             // 상대 시간
      "summary": "AI 요약 내용...",   // 2-3문장
      "link": "https://...",          // 원문 URL
      "image": "https://..."          // 썸네일 이미지 URL
    }
  ]
}
```

---

## 🛠️ 기술 스택

### 프론트엔드
- **HTML5** - 시맨틱 마크업
- **Tailwind CSS** - 유틸리티 기반 디자인
- **Lucide Icons** - 아이콘 시스템
- **Vanilla JavaScript** - 경량 인터랙션

### 백엔드/자동화
- **Python 3.11+**
  - `feedparser` - RSS 파싱
  - `beautifulsoup4` - HTML 파싱
  - `requests` - HTTP 클라이언트
  - `python-dateutil` - 날짜 처리

### DevOps
- **GitHub Pages** - 정적 호스팅
- **GitHub Actions** - CI/CD 자동화
- **Git** - 버전 관리

### AI (선택사항)
- **OpenAI GPT-3.5-turbo** - 텍스트 요약

---

## 📈 확장 가능성

### 현재 지원
✅ RSS 피드 크롤링  
✅ AI 자동 요약  
✅ GitHub Actions 자동화  
✅ 반응형 디자인  
✅ 카테고리 필터링 (프론트엔드)  

### 향후 추가 가능
🔲 사용자 인증 (로그인)  
🔲 댓글 시스템  
🔲 검색 기능  
🔲 북마크/즐겨찾기  
🔲 이메일 뉴스레터  
🔲 Telegram/Discord 봇 연동  
🔲 A/B 테스트  
🔲 Google Analytics 연동  

---

## 🔍 성능 최적화

### 현재 적용된 최적화
- ✅ CDN 기반 라이브러리 (Tailwind, Lucide)
- ✅ 이미지 지연 로딩 (onerror 처리)
- ✅ 최소한의 JavaScript
- ✅ Masonry 레이아웃 (네이티브 CSS columns)
- ✅ GitHub Pages CDN

### 추가 가능한 최적화
- 이미지 WebP 변환
- 서비스 워커 (오프라인 지원)
- 프리로딩 (preload/prefetch)
- 번들 최소화 (빌드 시스템 도입시)

---

**📝 이 문서는 프로젝트 이해를 돕기 위한 아키텍처 가이드입니다.**
